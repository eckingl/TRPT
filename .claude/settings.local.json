{
  "permissions": {
    "allow": [
      "Bash(python3:*)",
      "Bash(sqlite3:*)",
      "Bash(cd:*)",
      "Bash(cmd.exe /c \"cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m py_compile app/topics/attribute_map/generate.py app/topics/attribute_map/excel_reader.py app/api/report.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m py_compile app\\topics\\attribute_map\\generate.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m py_compile app\\topics\\attribute_map\\excel_reader.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m py_compile app\\api\\report.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m ruff check app\\topics\\attribute_map\\generate.py app\\topics\\attribute_map\\excel_reader.py app\\api\\report.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m py_compile app\\api\\ai_config.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m ruff check app\\api\\ai_config.py\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\backend && python -m py_compile app\\config.py app\\main.py\")",
      "Bash(npm run build:*)",
      "Bash(cmd.exe /c \"cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\frontend && npm run build 2>&1\")",
      "Bash(cmd.exe /c \"chcp 65001 && cd /d C:\\Users\\ECKin\\Desktop\\TRPC\\frontend && npm run build\")",
      "Bash(pyinstaller:*)",
      "WebSearch",
      "WebFetch(domain:github.com)",
      "WebFetch(domain:gibsonai.github.io)",
      "mcp__context7__resolve-library-id",
      "mcp__context7__get-library-docs",
      "Bash(cmd.exe:*)",
      "Bash(powershell -Command \"cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\frontend''; npm run build\")",
      "Bash(powershell -Command \"cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\nimport pandas as pd\nfrom openpyxl import load_workbook\n\nwb = load_workbook(''C:/Users/ECKin/Downloads/数据报告_20251209_180122.xlsx'')\nprint(''工作表列表:'')\nfor i, name in enumerate(wb.sheetnames, 1):\n    ws = wb[name]\n    print(f''  {i}. {name} (行数: {ws.max_row}, 列数: {ws.max_column})'')\n\"\"\")",
      "Bash(powershell -Command \"[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\n# -*- coding: utf-8 -*-\nimport sys\nsys.stdout.reconfigure(encoding=''utf-8'')\nfrom openpyxl import load_workbook\n\nwb = load_workbook(''C:/Users/ECKin/Downloads/数据报告_20251209_180122.xlsx'')\nprint(''工作表总数:'', len(wb.sheetnames))\nprint()\nprint(''工作表列表:'')\nfor i, name in enumerate(wb.sheetnames, 1):\n    ws = wb[name]\n    print(f''{i:3d}. {name}'')\n\"\"\")",
      "Bash(powershell -Command \"[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\n# -*- coding: utf-8 -*-\nimport sys\nsys.stdout.reconfigure(encoding=''utf-8'')\nfrom openpyxl import load_workbook\n\nwb = load_workbook(''C:/Users/ECKin/Downloads/数据报告_20251209_180122.xlsx'')\n\n# 检查pH的第一张表，看看表头\nws = wb[''pH分乡镇统计'']\nprint(''pH分乡镇统计 - 前5行:'')\nfor row in ws.iter_rows(min_row=1, max_row=5, values_only=True):\n    print(row)\n\nprint()\n# 检查是否有土壤类型统计表\nsoil_type_sheets = [name for name in wb.sheetnames if ''土壤类型统计'' in name and ''样点'' not in name]\nprint(''土壤类型统计表（非样点）:'', soil_type_sheets)\n\"\"\")",
      "Bash(powershell -Command \"[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\n# -*- coding: utf-8 -*-\nimport sys\nsys.stdout.reconfigure(encoding=''utf-8'')\nimport os\n\n# 查找上传目录中的文件\nupload_dir = ''uploads''\nif os.path.exists(upload_dir):\n    files = os.listdir(upload_dir)\n    print(''上传目录中的文件:'')\n    for f in files[:10]:\n        print(f''  {f}'')\n    \n    # 读取第一个CSV/Excel文件检查列名\n    import pandas as pd\n    for f in files:\n        if f.endswith((''.csv'', ''.xlsx'', ''.xls'')):\n            filepath = os.path.join(upload_dir, f)\n            try:\n                if f.endswith(''.csv''):\n                    df = pd.read_csv(filepath, encoding=''utf-8'', nrows=5)\n                else:\n                    df = pd.read_excel(filepath, nrows=5)\n                print(f''\\n{f} 的列名:'')\n                for col in df.columns:\n                    print(f''  {col}'')\n                # 检查土壤类型相关列\n                soil_cols = [c for c in df.columns if any(x in str(c) for x in [''土类'', ''亚类'', ''土属'', ''TL'', ''YL'', ''TS''])]\n                print(f''\\n土壤类型相关列: {soil_cols}'')\n                break\n            except Exception as e:\n                print(f''读取 {f} 失败: {e}'')\n\"\"\")",
      "Bash(powershell -Command \"[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\n# -*- coding: utf-8 -*-\nimport sys\nsys.stdout.reconfigure(encoding=''utf-8'')\nimport os\nimport pandas as pd\n\nupload_dir = ''uploads''\nfiles = os.listdir(upload_dir)\n\nfor f in files[:1]:\n    if f.endswith(''.csv''):\n        filepath = os.path.join(upload_dir, f)\n        # 尝试多种编码\n        for enc in [''gbk'', ''gb2312'', ''gb18030'', ''utf-8-sig'']:\n            try:\n                df = pd.read_csv(filepath, encoding=enc, nrows=5)\n                print(f''{f} 的列名 (编码: {enc}):'')\n                for col in df.columns:\n                    print(f''  {col}'')\n                # 检查土壤类型相关列\n                soil_cols = [c for c in df.columns if any(x in str(c) for x in [''土类'', ''亚类'', ''土属'', ''TL'', ''YL'', ''TS''])]\n                print(f''\\n土壤类型相关列: {soil_cols}'')\n                \n                # 检查面积列\n                area_cols = [c for c in df.columns if ''面积'' in str(c)]\n                print(f''面积相关列: {area_cols}'')\n                break\n            except Exception as e:\n                continue\n\"\"\")",
      "Bash(powershell -Command \"[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\n# -*- coding: utf-8 -*-\nimport sys\nsys.stdout.reconfigure(encoding=''utf-8'')\nimport pandas as pd\nimport os\n\n# 读取文件\nfilepath = ''uploads/1117濮阳合并区样点数2据_20251208_014547.csv''\ndf = pd.read_csv(filepath, encoding=''gbk'')\n\nprint(''原始列名中的土壤相关列:'')\nsoil_cols = [c for c in df.columns if any(x in str(c) for x in [''土类'', ''亚类'', ''土属'', ''TL'', ''YL'', ''TS'', ''SBName'', ''SGrt''])]\nprint(soil_cols)\n\nprint(''\\nYL列的唯一值 (前10个):'')\nif ''YL'' in df.columns:\n    print(df[''YL''].dropna().unique()[:10])\n\nprint(''\\nTS列的唯一值 (前10个):'')\nif ''TS'' in df.columns:\n    print(df[''TS''].dropna().unique()[:10])\n\nprint(''\\n面积列统计:'')\nif ''面积'' in df.columns:\n    print(f''总面积: {df[\"\"面积\"\"].sum()}'')\n    print(f''有效行数: {len(df[df[\"\"面积\"\"] > 0])}'')\n\"\"\")",
      "Bash(powershell -Command \"[Console]::OutputEncoding = [System.Text.Encoding]::UTF8; cd ''C:\\Users\\ECKin\\Desktop\\TRPC\\backend''; python -c \"\"\nimport sys\nsys.stdout.reconfigure(encoding=''utf-8'')\nimport pandas as pd\n\nfilepath = ''uploads/1117濮阳合并区样点数2据_20251208_014547.csv''\ndf = pd.read_csv(filepath, encoding=''gbk'')\n\nprint(''YL列的唯一值 (前10个):'')\nif ''YL'' in df.columns:\n    vals = df[''YL''].dropna().unique()[:10]\n    for v in vals:\n        print(f''  {v}'')\n\nprint()\nprint(''TS列的唯一值 (前10个):'')\nif ''TS'' in df.columns:\n    vals = df[''TS''].dropna().unique()[:10]\n    for v in vals:\n        print(f''  {v}'')\n\nprint()\nprint(''面积统计:'')\narea_sum = df[''面积''].sum()\nprint(f''总面积: {area_sum}'')\nvalid_count = len(df[df[''面积''] > 0])\nprint(f''有效行数: {valid_count}'')\n\"\"\")",
      "Bash(powershell -Command:*)",
      "Bash(python -m py_compile:*)"
    ],
    "deny": [],
    "ask": []
  }
}
